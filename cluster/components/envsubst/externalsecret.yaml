---
# yaml-language-server: $schema=https://schemas.budimanjojo.com/external-secrets.io/externalsecret_v1.json
apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
  name: &name cluster-vars
spec:
  secretStoreRef:
    kind: ClusterSecretStore
    name: bitwarden-secretsmanager
  target:
    name: *name
    template:
      data:
        SECRET_DOMAIN_0: "{{ .DOMAIN_0 }}"
        SECRET_DOMAIN_1: "{{ .DOMAIN_1 }}"
        SECRET_EMAIL_0: "{{ .EMAIL_0 }}"
        SECRET_DISCORD_GATUS_WH_URL: "{{ .DISCORD_GATUS_WH_URL }}"
        SECRET_DISCORD_PROMETHEUS_WH_URL: "{{ .DISCORD_PROMETHEUS_WH_URL }}"
        SECRET_CLOUDFLARE_K8S_INGRESS_TUNNEL_ID: "{{ .CLOUDFLARE_K8S_TUNNEL_ID }}"
        CONFIG_VYOS_IP_ADDRESS: 192.168.200.1
        CONFIG_NFS_SERVER_IP_ADDRESS: 192.168.200.30
        CONFIG_NFS_SERVER_PATH: /Kubernetes-Volumes
        CONFIG_OMADA_CONTROLLER_IP: 10.5.0.10
        CONFIG_TRAEFIK_IP: 192.168.15.0
        CONFIG_DASHBOARD_TABLET_IP_ADDRESS: 192.168.50.40
  dataFrom:
    - extract:
        key: cluster-vars
